var apidoc, gulp, log, path;

gulp = require("gulp");

path = require("path");

apidoc = require("gulp-apidoc");

log = require("../../lib/log");


/*
	@api {post} /login
	@apiName  Login
	@apiGroup ViriAuth

	@apiParam  {String} email    User email
	@apiParam  {String} password User password
	@apiParam  {String} [continue] URL to redirect to after successful login

	@apiSuccess (301) {String} Response Redirects to 'continue' param or default redirection url
	@apiError   {String} 403 Not allowed
 */

module.exports = function(coffeeProjectOptions) {
  var enabled, options, sourceDirectoryPath, targetDirectoryPath;
  options = coffeeProjectOptions.documentation;
  enabled = options.enabled;
  sourceDirectoryPath = path.resolve(options.sourceDirectoryPath);
  targetDirectoryPath = path.resolve(options.targetDirectoryPath);
  return gulp.task("documentation:compile", function(cb) {
    if (enabled !== true) {
      log.info("Skipping documentation:compile: Disabled.");
      return cb();
    }
    log.debug("[documentation:compile] Source directory path: `" + sourceDirectoryPath + "`.");
    log.debug("[documentation:compile] Target directory path: `" + targetDirectoryPath + "`.");
    log.debug("[documentation:compile] Compiling.");
    apidoc({
      src: sourceDirectoryPath,
      dest: targetDirectoryPath
    }, cb);
  });
};

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFza3MvZG9jdW1lbnRhdGlvbi9jb21waWxlLmpzIiwic291cmNlcyI6WyJ0YXNrcy9kb2N1bWVudGF0aW9uL2NvbXBpbGUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUE7O0FBQUEsSUFBQSxHQUFTLE9BQUEsQ0FBUSxNQUFSOztBQUNULElBQUEsR0FBUyxPQUFBLENBQVEsTUFBUjs7QUFDVCxNQUFBLEdBQVMsT0FBQSxDQUFRLGFBQVI7O0FBRVQsR0FBQSxHQUFPLE9BQUEsQ0FBUSxlQUFSOzs7QUFFUDs7Ozs7Ozs7Ozs7OztBQVlBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLFNBQUMsb0JBQUQ7QUFDaEIsTUFBQTtFQUFBLE9BQUEsR0FBc0Isb0JBQW9CLENBQUM7RUFDM0MsT0FBQSxHQUFzQixPQUFPLENBQUM7RUFDOUIsbUJBQUEsR0FBc0IsSUFBSSxDQUFDLE9BQUwsQ0FBYSxPQUFPLENBQUMsbUJBQXJCO0VBQ3RCLG1CQUFBLEdBQXNCLElBQUksQ0FBQyxPQUFMLENBQWEsT0FBTyxDQUFDLG1CQUFyQjtTQUV0QixJQUFJLENBQUMsSUFBTCxDQUFVLHVCQUFWLEVBQW1DLFNBQUMsRUFBRDtJQUNsQyxJQUFPLE9BQUEsS0FBVyxJQUFsQjtNQUNDLEdBQUcsQ0FBQyxJQUFKLENBQVMsMkNBQVQ7QUFDQSxhQUFPLEVBQUEsQ0FBQSxFQUZSOztJQUlBLEdBQUcsQ0FBQyxLQUFKLENBQVUsa0RBQUEsR0FBbUQsbUJBQW5ELEdBQXVFLElBQWpGO0lBQ0EsR0FBRyxDQUFDLEtBQUosQ0FBVSxrREFBQSxHQUFtRCxtQkFBbkQsR0FBdUUsSUFBakY7SUFDQSxHQUFHLENBQUMsS0FBSixDQUFVLG9DQUFWO0lBRUEsTUFBQSxDQUNDO01BQUEsR0FBQSxFQUFnQixtQkFBaEI7TUFDQSxJQUFBLEVBQWdCLG1CQURoQjtLQURELEVBR0UsRUFIRjtFQVRrQyxDQUFuQztBQU5nQiIsInNvdXJjZXNDb250ZW50IjpbImd1bHAgICA9IHJlcXVpcmUgXCJndWxwXCJcbnBhdGggICA9IHJlcXVpcmUgXCJwYXRoXCJcbmFwaWRvYyA9IHJlcXVpcmUgXCJndWxwLWFwaWRvY1wiXG5cbmxvZyAgPSByZXF1aXJlIFwiLi4vLi4vbGliL2xvZ1wiXG5cbiMjI1xuXHRAYXBpIHtwb3N0fSAvbG9naW5cblx0QGFwaU5hbWUgIExvZ2luXG5cdEBhcGlHcm91cCBWaXJpQXV0aFxuXG5cdEBhcGlQYXJhbSAge1N0cmluZ30gZW1haWwgICAgVXNlciBlbWFpbFxuXHRAYXBpUGFyYW0gIHtTdHJpbmd9IHBhc3N3b3JkIFVzZXIgcGFzc3dvcmRcblx0QGFwaVBhcmFtICB7U3RyaW5nfSBbY29udGludWVdIFVSTCB0byByZWRpcmVjdCB0byBhZnRlciBzdWNjZXNzZnVsIGxvZ2luXG5cblx0QGFwaVN1Y2Nlc3MgKDMwMSkge1N0cmluZ30gUmVzcG9uc2UgUmVkaXJlY3RzIHRvICdjb250aW51ZScgcGFyYW0gb3IgZGVmYXVsdCByZWRpcmVjdGlvbiB1cmxcblx0QGFwaUVycm9yICAge1N0cmluZ30gNDAzIE5vdCBhbGxvd2VkXG4jIyNcbm1vZHVsZS5leHBvcnRzID0gKGNvZmZlZVByb2plY3RPcHRpb25zKSAtPlxuXHRvcHRpb25zICAgICAgICAgICAgID0gY29mZmVlUHJvamVjdE9wdGlvbnMuZG9jdW1lbnRhdGlvblxuXHRlbmFibGVkICAgICAgICAgICAgID0gb3B0aW9ucy5lbmFibGVkXG5cdHNvdXJjZURpcmVjdG9yeVBhdGggPSBwYXRoLnJlc29sdmUgb3B0aW9ucy5zb3VyY2VEaXJlY3RvcnlQYXRoXG5cdHRhcmdldERpcmVjdG9yeVBhdGggPSBwYXRoLnJlc29sdmUgb3B0aW9ucy50YXJnZXREaXJlY3RvcnlQYXRoXG5cblx0Z3VscC50YXNrIFwiZG9jdW1lbnRhdGlvbjpjb21waWxlXCIsIChjYikgLT5cblx0XHR1bmxlc3MgZW5hYmxlZCBpcyB0cnVlXG5cdFx0XHRsb2cuaW5mbyBcIlNraXBwaW5nIGRvY3VtZW50YXRpb246Y29tcGlsZTogRGlzYWJsZWQuXCJcblx0XHRcdHJldHVybiBjYigpXG5cblx0XHRsb2cuZGVidWcgXCJbZG9jdW1lbnRhdGlvbjpjb21waWxlXSBTb3VyY2UgZGlyZWN0b3J5IHBhdGg6IGAje3NvdXJjZURpcmVjdG9yeVBhdGh9YC5cIlxuXHRcdGxvZy5kZWJ1ZyBcIltkb2N1bWVudGF0aW9uOmNvbXBpbGVdIFRhcmdldCBkaXJlY3RvcnkgcGF0aDogYCN7dGFyZ2V0RGlyZWN0b3J5UGF0aH1gLlwiXG5cdFx0bG9nLmRlYnVnIFwiW2RvY3VtZW50YXRpb246Y29tcGlsZV0gQ29tcGlsaW5nLlwiXG5cblx0XHRhcGlkb2Ncblx0XHRcdHNyYzogICAgICAgICAgICBzb3VyY2VEaXJlY3RvcnlQYXRoXG5cdFx0XHRkZXN0OiAgICAgICAgICAgdGFyZ2V0RGlyZWN0b3J5UGF0aFxuXHRcdCwgY2Jcblx0XHRcblx0XHRyZXR1cm5cbiJdfQ==
